{"ast":null,"code":"function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (null != _i) {\n    var _s,\n      _e,\n      _x,\n      _r,\n      _arr = [],\n      _n = !0,\n      _d = !1;\n    try {\n      if (_x = (_i = _i.call(arr)).next, 0 === i) {\n        if (Object(_i) !== _i) return;\n        _n = !1;\n      } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0);\n    } catch (err) {\n      _d = !0, _e = err;\n    } finally {\n      try {\n        if (!_n && null != _i.return && (_r = _i.return(), Object(_r) !== _r)) return;\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n}\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return _assertThisInitialized(self);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nimport React from \"react\";\nimport { withContentRect } from \"react-measure\";\nimport { shallowEqual } from \"./common\";\nimport { PACKAGE_VERSION } from \"./constants\";\nimport constructUrl from \"./constructUrl\";\nimport extractQueryParams from \"./extractQueryParams\";\nimport findClosest from \"./findClosest\";\nimport targetWidths from \"./targetWidths\";\nvar findNearestWidth = function findNearestWidth(actualWidth) {\n  return findClosest(actualWidth, targetWidths);\n};\nvar toFixed = function toFixed(dp, value) {\n  return +value.toFixed(dp);\n};\nexport var __shouldComponentUpdate = function __shouldComponentUpdate(props, nextProps) {\n  var contentRect = props.contentRect;\n  var bounds = contentRect.bounds;\n  var prevWidth = bounds.width,\n    prevHeight = bounds.height;\n  var nextContentRect = nextProps.contentRect;\n  var nextBounds = nextContentRect.bounds;\n  var nextWidth = nextBounds.width,\n    nextHeight = nextBounds.height;\n\n  // If neither of the previous nor next dimensions are present,\n  // re-render.\n  if (!nextWidth || !nextHeight || !prevWidth || !prevHeight) {\n    return true;\n  }\n\n  // The component has been rendered at least twice by this point\n  // and both the previous and next dimensions should be defined.\n  // Only update if the nextWidth is greater than the prevWidth.\n  if (prevWidth && nextWidth && nextWidth > prevWidth) {\n    return true;\n  }\n\n  // Similarly, only update if the next height is greater than\n  // the previous height.\n  if (prevHeight && nextHeight && nextHeight > prevHeight) {\n    return true;\n  }\n  var customizer = function customizer(oldProp, newProp, key) {\n    // these keys are ignored from prop checking process\n    if (key === \"contentRect\" || key === \"measure\" || key === \"measureRef\") {\n      return true;\n    }\n    if (key === \"children\") {\n      return oldProp == newProp;\n    }\n    if (key === \"imgixParams\") {\n      return shallowEqual(oldProp, newProp, function (a, b) {\n        if (Array.isArray(a)) {\n          return shallowEqual(a, b);\n        }\n        return undefined;\n      });\n    }\n    if (key === \"htmlAttributes\") {\n      return shallowEqual(oldProp, newProp);\n    }\n    return undefined; // handled by shallowEqual\n  };\n\n  // If we made it here, we need to check if the \"top-level\"\n  // props have changed (e.g. disableLibraryParam).\n  var propsEqual = shallowEqual(props, nextProps, customizer);\n  return !propsEqual;\n};\nvar BackgroundImpl = /*#__PURE__*/function (_React$Component) {\n  _inherits(BackgroundImpl, _React$Component);\n  var _super = _createSuper(BackgroundImpl);\n  function BackgroundImpl(props) {\n    _classCallCheck(this, BackgroundImpl);\n    return _super.call(this, props);\n  }\n  _createClass(BackgroundImpl, [{\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(nextProps) {\n      return __shouldComponentUpdate(this.props, nextProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n        measureRef = _this$props.measureRef,\n        contentRect = _this$props.contentRect,\n        _this$props$imgixPara = _this$props.imgixParams,\n        imgixParams = _this$props$imgixPara === void 0 ? {} : _this$props$imgixPara,\n        onLoad = _this$props.onLoad,\n        disableLibraryParam = _this$props.disableLibraryParam,\n        disablePathEncoding = _this$props.disablePathEncoding,\n        src = _this$props.src,\n        children = _this$props.children,\n        _this$props$className = _this$props.className,\n        className = _this$props$className === void 0 ? \"\" : _this$props$className;\n      var forcedWidth = imgixParams.w,\n        forcedHeight = imgixParams.h;\n      var hasDOMDimensions = contentRect.bounds.width != null && contentRect.bounds.height != null;\n      var htmlAttributes = this.props.htmlAttributes || {};\n      var dpr = toFixed(2, imgixParams.dpr || global.devicePixelRatio || 1);\n      var ref = htmlAttributes.ref;\n      var onRef = function onRef(el) {\n        measureRef(el);\n        if (typeof ref === \"function\") {\n          ref(el);\n        }\n      };\n      var _ref = function () {\n          var bothWidthAndHeightPassed = forcedWidth != null && forcedHeight != null;\n          if (bothWidthAndHeightPassed) {\n            return {\n              width: forcedWidth,\n              height: forcedHeight\n            };\n          }\n          if (!hasDOMDimensions) {\n            return {\n              width: undefined,\n              height: undefined\n            };\n          }\n          var ar = contentRect.bounds.width / contentRect.bounds.height;\n          var neitherWidthNorHeightPassed = forcedWidth == null && forcedHeight == null;\n          if (neitherWidthNorHeightPassed) {\n            var _width = findNearestWidth(contentRect.bounds.width);\n            var _height = Math.ceil(_width / ar);\n            return {\n              width: _width,\n              height: _height\n            };\n          }\n          if (forcedWidth != null) {\n            var _height2 = Math.ceil(forcedWidth / ar);\n            return {\n              width: forcedWidth,\n              height: _height2\n            };\n          } else if (forcedHeight != null) {\n            var _width2 = Math.ceil(forcedHeight * ar);\n            return {\n              width: _width2,\n              height: forcedHeight\n            };\n          }\n        }(),\n        width = _ref.width,\n        height = _ref.height;\n      var isReady = width != null && height != null;\n      var commonProps = _objectSpread({}, htmlAttributes);\n      if (!isReady) {\n        return /*#__PURE__*/React.createElement(\"div\", _extends({}, commonProps, {\n          className: \"react-imgix-bg-loading \".concat(className),\n          ref: onRef\n        }), children);\n      }\n      var renderedSrc = function () {\n        var _extractQueryParams = extractQueryParams(src),\n          _extractQueryParams2 = _slicedToArray(_extractQueryParams, 2),\n          rawSrc = _extractQueryParams2[0],\n          params = _extractQueryParams2[1];\n        var longImgixParams = _objectSpread(_objectSpread(_objectSpread(_objectSpread({}, params), {}, {\n          fit: \"crop\"\n        }, imgixParams), disableLibraryParam ? {} : {\n          ixlib: \"react-\".concat(PACKAGE_VERSION)\n        }), {}, {\n          width: width,\n          height: height,\n          dpr: dpr\n        });\n        var srcOptions = {\n          disablePathEncoding: disablePathEncoding\n        };\n        return constructUrl(rawSrc, longImgixParams, srcOptions);\n      }();\n      var style = _objectSpread(_objectSpread({}, htmlAttributes.style), {}, {\n        backgroundImage: \"url(\".concat(renderedSrc, \")\"),\n        backgroundSize: (htmlAttributes.style || {}).backgroundSize !== undefined ? htmlAttributes.style.backgroundSize : \"cover\"\n      });\n      return /*#__PURE__*/React.createElement(\"div\", _extends({}, commonProps, {\n        className: className,\n        ref: onRef,\n        style: style\n      }), children);\n    }\n  }]);\n  return BackgroundImpl;\n}(React.Component);\nvar Background = withContentRect(\"bounds\")(BackgroundImpl);\nexport { Background, BackgroundImpl as __BackgroundImpl };","map":{"version":3,"mappings":"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","names":["React","withContentRect","shallowEqual","PACKAGE_VERSION","constructUrl","extractQueryParams","findClosest","targetWidths","findNearestWidth","actualWidth","toFixed","dp","value","__shouldComponentUpdate","props","nextProps","contentRect","bounds","prevWidth","width","prevHeight","height","nextContentRect","nextBounds","nextWidth","nextHeight","customizer","oldProp","newProp","key","a","b","Array","isArray","undefined","propsEqual","BackgroundImpl","_inherits","_classCallCheck","_createClass","measureRef","_this$props$imgixPara","imgixParams","onLoad","disableLibraryParam","disablePathEncoding","src","children","_this$props$className","className","forcedWidth","w","forcedHeight","h","hasDOMDimensions","htmlAttributes","dpr","global","devicePixelRatio","ref","onRef","el","bothWidthAndHeightPassed","ar","neitherWidthNorHeightPassed","Math","ceil","isReady","commonProps","renderedSrc","_extractQueryParams2","rawSrc","params","longImgixParams","fit","ixlib","srcOptions","style","backgroundImage","backgroundSize","Component","Background","__BackgroundImpl"],"sources":["C:\\Users\\chels\\CS494\\Forms-of-Migration-Website\\node_modules\\react-imgix\\src\\react-imgix-bg.jsx"],"sourcesContent":["import React from \"react\";\nimport { withContentRect } from \"react-measure\";\nimport { shallowEqual } from \"./common\";\nimport { PACKAGE_VERSION } from \"./constants\";\nimport constructUrl from \"./constructUrl\";\nimport extractQueryParams from \"./extractQueryParams\";\nimport findClosest from \"./findClosest\";\nimport targetWidths from \"./targetWidths\";\n\nconst findNearestWidth = (actualWidth) =>\n  findClosest(actualWidth, targetWidths);\n\nconst toFixed = (dp, value) => +value.toFixed(dp);\n\nexport const __shouldComponentUpdate = (props, nextProps) => {\n  const contentRect = props.contentRect;\n  const bounds = contentRect.bounds;\n  const { width: prevWidth, height: prevHeight } = bounds;\n\n  const nextContentRect = nextProps.contentRect;\n  const nextBounds = nextContentRect.bounds;\n  const { width: nextWidth, height: nextHeight } = nextBounds;\n\n  // If neither of the previous nor next dimensions are present,\n  // re-render.\n  if (!nextWidth || !nextHeight || !prevWidth || !prevHeight) {\n    return true;\n  }\n\n  // The component has been rendered at least twice by this point\n  // and both the previous and next dimensions should be defined.\n  // Only update if the nextWidth is greater than the prevWidth.\n  if (prevWidth && nextWidth && nextWidth > prevWidth) {\n    return true;\n  }\n\n  // Similarly, only update if the next height is greater than\n  // the previous height.\n  if (prevHeight && nextHeight && nextHeight > prevHeight) {\n    return true;\n  }\n\n  const customizer = (oldProp, newProp, key) => {\n    // these keys are ignored from prop checking process\n    if (key === \"contentRect\" || key === \"measure\" || key === \"measureRef\") {\n      return true;\n    }\n\n    if (key === \"children\") {\n      return oldProp == newProp;\n    }\n\n    if (key === \"imgixParams\") {\n      return shallowEqual(oldProp, newProp, (a, b) => {\n        if (Array.isArray(a)) {\n          return shallowEqual(a, b);\n        }\n        return undefined;\n      });\n    }\n\n    if (key === \"htmlAttributes\") {\n      return shallowEqual(oldProp, newProp);\n    }\n\n    return undefined; // handled by shallowEqual\n  };\n\n  // If we made it here, we need to check if the \"top-level\"\n  // props have changed (e.g. disableLibraryParam).\n  const propsEqual = shallowEqual(props, nextProps, customizer);\n\n  return !propsEqual;\n};\n\nclass BackgroundImpl extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  shouldComponentUpdate(nextProps) {\n    return __shouldComponentUpdate(this.props, nextProps);\n  }\n\n  render() {\n    const {\n      measureRef,\n      contentRect,\n      imgixParams = {},\n      onLoad,\n      disableLibraryParam,\n      disablePathEncoding,\n      src,\n      children,\n      className = \"\",\n    } = this.props;\n    const { w: forcedWidth, h: forcedHeight } = imgixParams;\n    const hasDOMDimensions =\n      contentRect.bounds.width != null && contentRect.bounds.height != null;\n    const htmlAttributes = this.props.htmlAttributes || {};\n    const dpr = toFixed(2, imgixParams.dpr || global.devicePixelRatio || 1);\n    const ref = htmlAttributes.ref;\n    const onRef = (el) => {\n      measureRef(el);\n      if (typeof ref === \"function\") {\n        ref(el);\n      }\n    };\n\n    const { width, height } = (() => {\n      const bothWidthAndHeightPassed =\n        forcedWidth != null && forcedHeight != null;\n\n      if (bothWidthAndHeightPassed) {\n        return { width: forcedWidth, height: forcedHeight };\n      }\n\n      if (!hasDOMDimensions) {\n        return { width: undefined, height: undefined };\n      }\n      const ar = contentRect.bounds.width / contentRect.bounds.height;\n\n      const neitherWidthNorHeightPassed =\n        forcedWidth == null && forcedHeight == null;\n      if (neitherWidthNorHeightPassed) {\n        const width = findNearestWidth(contentRect.bounds.width);\n        const height = Math.ceil(width / ar);\n        return { width, height };\n      }\n      if (forcedWidth != null) {\n        const height = Math.ceil(forcedWidth / ar);\n        return { width: forcedWidth, height };\n      } else if (forcedHeight != null) {\n        const width = Math.ceil(forcedHeight * ar);\n        return { width, height: forcedHeight };\n      }\n    })();\n    const isReady = width != null && height != null;\n\n    const commonProps = {\n      ...htmlAttributes,\n    };\n\n    if (!isReady) {\n      return (\n        <div\n          {...commonProps}\n          className={`react-imgix-bg-loading ${className}`}\n          ref={onRef}\n        >\n          {children}\n        </div>\n      );\n    }\n\n    const renderedSrc = (() => {\n      const [rawSrc, params] = extractQueryParams(src);\n      const longImgixParams = {\n        ...params,\n        fit: \"crop\",\n        ...imgixParams,\n        ...(disableLibraryParam ? {} : { ixlib: `react-${PACKAGE_VERSION}` }),\n        width,\n        height,\n        dpr,\n      };\n\n      const srcOptions = {\n        disablePathEncoding,\n      }\n\n      return constructUrl(rawSrc, longImgixParams, srcOptions);\n    })();\n\n    const style = {\n      ...htmlAttributes.style,\n      backgroundImage: `url(${renderedSrc})`,\n      backgroundSize:\n        (htmlAttributes.style || {}).backgroundSize !== undefined\n          ? htmlAttributes.style.backgroundSize\n          : \"cover\",\n    };\n\n    return (\n      <div {...commonProps} className={className} ref={onRef} style={style}>\n        {children}\n      </div>\n    );\n  }\n}\nconst Background = withContentRect(\"bounds\")(BackgroundImpl);\n\nexport { Background, BackgroundImpl as __BackgroundImpl };\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}